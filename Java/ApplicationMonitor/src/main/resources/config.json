{
  "metrics": [
    {
      "name": "hits_per_sec",
      "period": "PT1S",
      "type": "COUNT"
    },
    {
      "name": "5xx_per_min",
      "period": "PT1M",
      "type": "COUNT",
      "filters": [
        {
          "operator": "=~",
          "operand": "status",
          "value": "5.."
        }
      ]
    }
  ],
  "calculatedMetrics": [
    {
      "name": "avg_hits_per_sec",
      "period": "PT2M",
      "aggregate": "AVG",
      "inputMetrics": ["hits_per_sec"]
    }
  ],
  "alarms": [
    {
      "name": "High traffic alert",
      "threshold": 10,
      "metric": "avg_hits_per_sec",
      "dataPointsAlarm": 1,
      "dataPointsRecovery": 1
    },
    {
      "name": "High Error Rate",
      "metric": "5xx_per_min",
      "threshold": 10,
      "dataPointsAlarm": 5,
      "dataPointsRecovery": 5
    }
  ],
  "rawLogConsumers": [
    {
      "name": "log_section_load",
      "type": "com.datadog.monitoring.processor.SectionLoadLogger",
      "period": "PT10S"
    }
  ]
}